<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - MyFirstApplication</title>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/MyFirstApplication.styles.css" asp-append-version="true" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" />
    <link href="~/css/style.css" rel="stylesheet" />
    <link href="~/css/lg.css" rel="stylesheet" />
    <link href="~/css/md.css" rel="stylesheet" />
    <link href="~/css/sm.css" rel="stylesheet" />

</head>



<body>

    <heade class="sticky-top z-3">

        <nav class="navbar navbar-expand-lg bg-body-white bg-light">
            <div class="container-lg flex-nowrap">
                <a class="navbar-brand" href="/">
                    <img src="https://udvash.com/media/Images/UDVASH/Common/Udvash-Logo.png"
                         alt="Logo" />
                </a>
                <div class="d-flex align-items-center">
                    <button type="button" class="btn btn-navbar d-lg-none d-inline">
                        Join Now
                    </button>
                    <button class="navbar-toggler"
                            type="button"
                            data-bs-toggle="collapse"
                            data-bs-target="#navbarSupportedContent"
                            aria-controls="navbarSupportedContent"
                            aria-expanded="false"
                            aria-label="Toggle navigation">

                        <i class="fa-solid fa-bars fa-2x"></i>
                        <i class="fa-solid fa-xmark fa-2x d-none"></i>
                    </button>
                </div>
                <div class="collapse navbar-collapse custom-collapse"
                     id="navbarSupportedContent">
                    <ul class="navbar-nav ms-auto mb-2 mb-lg-0 align-items-lg-center custom-ul">
                        <li class="nav-item">
                            <a class="nav-link fs-4 fw-semibold text-black" aria-current="page" href="#">প্রোগ্রামসমূহ</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link fs-4 fw-semibold text-black" href="#">শাখাসমূহ</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link fs-4 fw-semibold text-black" href="/home/qna">Q&A</a>
                        </li>
                        <li>
                            <hr class="d-lg-none d-block" />
                        </li>
                        <li class="nav-item">
                            <a class="nav-link d-flex align-items-center gap-2">
                                <img src="https://udvash.com/media/Images/UDVASH/Common/callusicon.png"
                                     alt="Call" />
                                <span class="fs-4 d-lg-none d-block">09666775566</span>
                            </a>
                        </li>
                        <li class="nav-item d-lg-block d-none">
                            <button type="button" class="btn btn-navbar">Join Now</button>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

    </heade>

    <div>
        <main role="main">
            @RenderBody()
        </main>
    </div>

    <!-- Footer  -->

    <footer style="background-color: #532356; color: white">
        <div class="container-lg py-3 py-md-5">
            <div class="row">
                <div class="col-12 col-md-5">
                    <img src="https://udvash.com/media/Images/UDVASH/Common/footer-logo.png"
                         alt="Logo" />
                </div>
                <div class="col-12 col-md-2">
                    <h3>Help</h3>
                    <a class="text-decoration-none text-light d-block my-3" href="#">About Us</a>
                    <a class="text-decoration-none text-light d-block my-3" href="#">Branch List</a>
                    <a class="text-decoration-none text-light d-block my-3" href="#">Privacy Policy</a>
                    <a class="text-decoration-none text-light d-block my-3" href="#">Terms & Conditions</a>
                </div>
                <div class="col-12 col-md-2">
                    <h3>Explore</h3>
                    <a class="text-decoration-none text-light d-block my-3" href="#">Programs</a>
                    <a class="text-decoration-none text-light d-block my-3" href="#">
                        Teacher Registration
                    </a>
                    <a class="text-decoration-none text-light d-block my-3" href="#">Book Correction</a>
                </div>
                <div class="col-12 col-md-3">
                    <h3>Get In Touch</h3>
                    <p class="my-3">
                        Address: 78, Green Road (3rd Floor), Farmgate, Tejgaon, Dhaka-1205
                    </p>
                    <p class="my-3">
                        Helpline:
                        <a class="text-decoration-none text-light my-3"
                           href="tel:09666775566">
                            09666775566
                        </a>
                    </p>
                    <p class="my-3">
                        Email:
                        <a class="text-decoration-none text-light my-3"
                           href="mailto:info@udvash-unmesh.com">
                            info@udvash-unmesh.com
                        </a>
                    </p>

                    <div class="d-flex align-items-center gap-3">
                        <a href="#">
                            <img src="https://unmesh.com/media/Images/Unmesh/facebook.png"
                                 alt="FB" />
                        </a>
                        <a href="#">
                            <img src="https://unmesh.com/media/Images/Unmesh/youtube.png"
                                 alt="FB" />
                        </a>
                        <a href="#">
                            <img src="https://unmesh.com/media/Images/Unmesh/instagram.png"
                                 alt="FB" />
                        </a>
                        <a href="#">
                            <img src="https://unmesh.com/media/Images/Unmesh/linkedIn.png"
                                 alt="FB" />
                        </a>
                    </div>
                </div>
            </div>

            <hr class="d-block my-4" />

            <p class="text-center small">
                Copyright © Udvash Academic & Admission Care. All rights reserved.
                2025
            </p>
        </div>
    </footer>

    <!-- Only include one Bootstrap JS bundle, and ensure it loads before your custom scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/js/all.min.js"></script>
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
    <script src="~/js/app.js"></script>

    <script>
        $(document).ready(function(){
            $("#instruction-icon").click(function () {
                $("#instruction-modal").toggleClass("d-none");
                $(this).css("color", function (_, currentColor) {
                    return currentColor === "rgb(0, 0, 0)" ? "white" : "black";
                });
                $(this).toggleClass("bg-white");
            });

            $("#instruction-close").click(function () {
                $("#instruction-modal").addClass("d-none");
            });

            
            // ===== Uploading Files with Popover =====

            const $trigger = $('#popoverTrigger');
            const $feedback = $('#uploadFeedback');

            // Initialize popover
            const popover = new bootstrap.Popover($trigger[0], {
                trigger: 'manual',
                placement: 'top',
                html: true,
                sanitize: false // Allow our custom HTML content
            });

            let hideTimeout;
            let popoverInitialized = false;

            // Function to show feedback
            function showFeedback(message, type = 'info') {
                const alertClass = `alert-${type}`;
                $feedback.html(`
                    <div class="alert ${alertClass} alert-dismissible fade show" role="alert">
                        ${message}
                        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                    </div>
                `);

                // Auto-hide after 5 seconds
                setTimeout(() => {
                    $feedback.find('.alert').alert('close');
                }, 5000);
            }

            // Function to setup popover event listeners
            function setupPopoverEvents() {
                const $popoverEl = $('.popover');

                if ($popoverEl.length && !popoverInitialized) {
                    // Handle popover hover
                    $popoverEl.on('mouseenter', function () {
                        clearTimeout(hideTimeout);
                    }).on('mouseleave', function () {
                        hideTimeout = setTimeout(() => {
                            popover.hide();
                            popoverInitialized = false;
                        }, 200);
                    });

                    // Handle upload button clicks
                    $popoverEl.find('[data-upload]').on('click', function(e) {
                        e.preventDefault();
                        e.stopPropagation();

                        const uploadType = $(this).data('upload');
                        const $input = $(`#${uploadType}Input`);

                        // Hide popover
                        popover.hide();
                        popoverInitialized = false;

                        // Trigger file input
                        $input.click();

                        showFeedback(`Selecting ${uploadType} file...`, 'info');
                    });

                    popoverInitialized = true;
                }
            }

            // Show popover on hover
            $trigger.on('mouseenter', function () {
                clearTimeout(hideTimeout);
                popover.show();

                // Setup events after popover is shown
                setTimeout(setupPopoverEvents, 100);
            });

            // Hide popover when leaving trigger
            $trigger.on('mouseleave', function () {
                hideTimeout = setTimeout(() => {
                    if (!$('.popover:hover').length) {
                        popover.hide();
                        popoverInitialized = false;
                    }
                }, 200);
            });

            // Handle file input changes
            $('input[type="file"]').on('change', function() {
                const files = this.files;
                const type = this.id.replace('Input', '').toUpperCase();

                if (files.length > 0) {
                    const file = files[0];
                    const fileName = file.name;
                    const fileSize = (file.size / 1024 / 1024).toFixed(2); // MB

                    showFeedback(`
                        <strong>${type} File Selected:</strong><br>
                        <small>
                            <strong>Name:</strong> ${fileName}<br>
                            <strong>Size:</strong> ${fileSize} MB
                        </small>
                    `, 'success');

                    // Here you would typically upload the file
                    console.log(`${type} file selected:`, file);

                    // Simulate upload process
                    setTimeout(() => {
                        showFeedback(`${type} file uploaded successfully!`, 'success');
                    }, 1500);

                } else {
                    showFeedback('No file selected', 'warning');
                }

                // Reset the input
                this.value = '';
            });

            // Hide popover when clicking outside
            $(document).on('click', function(e) {
                if (!$trigger.is(e.target) &&
                    !$trigger.has(e.target).length &&
                    !$('.popover').is(e.target) &&
                    !$('.popover').has(e.target).length) {
                    popover.hide();
                    popoverInitialized = false;
                }
            });

            // Handle popover events using Bootstrap's built-in events
            $trigger[0].addEventListener('shown.bs.popover', function () {
                setTimeout(setupPopoverEvents, 50);
            });

            $trigger[0].addEventListener('hidden.bs.popover', function () {
                popoverInitialized = false;
                clearTimeout(hideTimeout);
            });

        });
    </script>


    @await RenderSectionAsync("Scripts", required: false)

</body>

</html>
